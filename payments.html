<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Payments</title>
        <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Payments</h1>
        <p>Manage and record your payments below.</p>
    </header>
    <main>
       <script>
window.addEventListener('DOMContentLoaded', function() {
  document.body.style.fontFamily = localStorage.getItem('dashboardFont') || "Arial, Helvetica, sans-serif";
  if (localStorage.getItem('dashboardDarkMode') === 'true') {
    document.body.style.background = '#222';
    document.body.style.color = '#fafafa';
  } else {
    document.body.style.background = localStorage.getItem('dashboardBgColor') || "#fafafa";
    document.body.style.color = '#222';
  }
});

// Payment management code
let payments = JSON.parse(localStorage.getItem('payments')) || [];

function savePayments() {
  localStorage.setItem('payments', JSON.stringify(payments));
}

function renderPayments() {
  const list = document.getElementById('paymentsList');
  list.innerHTML = "";
  payments.forEach((payment, idx) => {
    const li = document.createElement('li');
    li.innerHTML = `<strong>${payment.name}</strong> paid <strong>${payment.amount}</strong> via <em>${payment.method}</em>
      <button onclick="deletePayment(${idx})" class="btn btn-delete">Delete</button>`;
    list.appendChild(li);
  });
}

document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('paymentForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const name = document.getElementById('payerName').value.trim();
    const amount = document.getElementById('amount').value.trim();
    const method = document.getElementById('method').value;
    if (name && amount && method) {
      payments.push({ name, amount, method });
      savePayments();
      renderPayments();
      this.reset();
    }
  });
  renderPayments();
});

window.deletePayment = function(idx) {
  if (confirm("Delete this payment?")) {
    payments.splice(idx, 1);
    savePayments();
    renderPayments();
  }
};
</script>
    <section>
        <form id="paymentForm">
            <label for="payerName">Name:</label><br>
            <input type="text" id="payerName" name="payerName" required><br><br>
            <label for="amount">Amount:</label><br>
            <input type="number" id="amount" name="amount" required><br><br>
            <label for="method">Payment Method:</label><br>
            <select id="method" name="method" required>
                <option value="Debit">Debit Card</option>
                <option value="cash">MoMo Wallet</option>
                <option value="Visa">Visa Card</option>
            </select><br><br>
            <button type="submit" class="btn">Save</button>
            <button type="reset" class="btn btn-cancel">Cancel</button>
        </form>
    </section>
    <section>
        <h2>Payment Records</h2>
        <ul id="paymentsList"></ul>
    </section>
    <p><a href="index.html">‚Üê Back to Dashboard</a></p>
    <ul>
        <li><a href="payments.html">üí≥ Payments</a></li>
        <li><a href="reports.html">üìä Reports</a></li>
    </ul>
</main>
</body>
</html>